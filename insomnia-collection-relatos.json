{
  "_type": "export",
  "__export_format": 4,
  "__export_date": "2026-02-04T00:00:00.000Z",
  "__export_source": "insomnia.desktop.app:v2023.5.8",
  "resources": [
    {
      "_id": "wrk_relatos",
      "_type": "workspace",
      "name": "Relatos de Papel Backend",
      "description": "Colección para probar Gateway + Eureka",
      "scope": "collection"
    },
    {
      "_id": "env_base",
      "_type": "environment",
      "parentId": "wrk_relatos",
      "name": "Base Environment",
      "data": {
        "base_url": "http://localhost:8080"
      }
    },
    {
      "_id": "fld_catalogue",
      "_type": "request_group",
      "parentId": "wrk_relatos",
      "name": "Catalogue (Gateway)"
    },
    {
      "_id": "req_create_category",
      "_type": "request",
      "parentId": "fld_catalogue",
      "name": "Create Category",
      "method": "POST",
      "url": "{{ base_url }}/api/v1/catalogue/categories",
      "headers": [{ "name": "Content-Type", "value": "application/json" }],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"name\": \"Ficción\",\n  \"description\": \"Libros de ficción\"\n}"
      }
    },
    {
      "_id": "req_list_categories",
      "_type": "request",
      "parentId": "fld_catalogue",
      "name": "List Categories",
      "method": "GET",
      "url": "{{ base_url }}/api/v1/catalogue/categories"
    },
    {
      "_id": "req_create_book",
      "_type": "request",
      "parentId": "fld_catalogue",
      "name": "Create Book",
      "method": "POST",
      "url": "{{ base_url }}/api/v1/catalogue/books",
      "headers": [{ "name": "Content-Type", "value": "application/json" }],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"title\": \"Cien Años de Soledad\",\n  \"author\": \"Gabriel García Márquez\",\n  \"isbn\": \"978-0307474728\",\n  \"rating\": 5,\n  \"visible\": true,\n  \"stock\": 10,\n  \"publicationDate\": \"1967-05-30\"\n}"
      }
    },
    {
      "_id": "req_list_books",
      "_type": "request",
      "parentId": "fld_catalogue",
      "name": "List Books",
      "method": "GET",
      "url": "{{ base_url }}/api/v1/catalogue/books"
    },
    {
      "_id": "req_availability",
      "_type": "request",
      "parentId": "fld_catalogue",
      "name": "Book Availability",
      "method": "GET",
      "url": "{{ base_url }}/api/v1/catalogue/books/{{ book_id }}/availability",
      "parameters": [{ "name": "quantity", "value": "1" }]
    },
    {
      "_id": "fld_payments",
      "_type": "request_group",
      "parentId": "wrk_relatos",
      "name": "Payments (Gateway)"
    },
    {
      "_id": "req_create_purchase",
      "_type": "request",
      "parentId": "fld_payments",
      "name": "Create Purchase",
      "method": "POST",
      "url": "{{ base_url }}/api/v1/payments/purchases",
      "headers": [{ "name": "Content-Type", "value": "application/json" }],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"buyerEmail\": \"test@correo.com\",\n  \"items\": [\n    { \"bookId\": \"{{ book_id }}\", \"quantity\": 1 }\n  ]\n}"
      }
    },
    {
      "_id": "req_get_purchase",
      "_type": "request",
      "parentId": "fld_payments",
      "name": "Get Purchase By Id",
      "method": "GET",
      "url": "{{ base_url }}/api/v1/payments/purchases/{{ purchase_id }}"
    },
    {
      "_id": "env_vars",
      "_type": "environment",
      "parentId": "env_base",
      "name": "Local Variables",
      "data": {
        "book_id": "REEMPLAZAR_UUID_LIBRO",
        "purchase_id": "REEMPLAZAR_UUID_COMPRA"
      }
    }
  ]
}
